FROM apache/airflow:2.0.2

# Set environment variables for database
ARG POSTGRES_USER
ARG POSTGRES_PASSWORD
ARG POSTGRES_DB
ARG EMAIL_ADDRESS_1
ARG EMAIL_ADDRESS_2
ARG THE_G_PASS

ENV POSTGRES_USER=${POSTGRES_USER}
ENV POSTGRES_PASSWORD=${POSTGRES_PASSWORD}
ENV POSTGRES_DB=${POSTGRES_DB}
ENV EMAIL_ADDRESS_1=${EMAIL_ADDRESS_1}
ENV EMAIL_ADDRESS_2=${EMAIL_ADDRESS_2}
ENV THE_G_PASS=${THE_G_PASS}

RUN pip install pandas sqlalchemy psycopg2-binary great-expectations==0.15.0 roman geopandas
